---
// NoNinos2.astro
---
<section class="py-8 md:py-12 px-4 relative overflow-hidden">
  <!-- Fondo sutil -->
  <div class="absolute inset-0 bg-gradient-to-b from-[#fffaf5]/30 via-white/10 to-[#fffaf5]/30 z-0"></div>

  <div class="max-w-3xl mx-auto relative z-10">

    <!-- ðŸŒ¸ FLORES DECORATIVAS SUPERIORES -->
    <div class="flex justify-center mb-6" id="flores-ninos2-top">
      <img
        src="/imagenes/Separadores.webp"
        alt="Flores decorativas"
        class="w-32 md:w-40 h-auto object-contain opacity-90"
      />
    </div>

    <!-- CONTENEDOR PRINCIPAL -->
    <div class="relative">

      <!-- ðŸƒ HOJAS FLOTANTES IZQUIERDA -->
      <div class="absolute -left-6 md:-left-12 top-0 w-20 md:w-28 pointer-events-none z-0" id="hoja-float-izq">
        <img src="/imagenes/Hojas.webp" alt="Hojas" class="w-full h-auto object-contain transform -scale-x-100 opacity-50" />
      </div>

      <!-- ðŸƒ HOJAS FLOTANTES DERECHA -->
      <div class="absolute -right-6 md:-right-12 bottom-0 w-20 md:w-28 pointer-events-none z-0" id="hoja-float-der">
        <img src="/imagenes/Hojas.webp" alt="Hojas" class="w-full h-auto object-contain opacity-50" />
      </div>

      <!-- MENSAJE PRINCIPAL -->
      <div class="bg-white/90 backdrop-blur-sm rounded-2xl border border-[#C9A961]/20 py-8 md:py-10 px-6 md:px-10 shadow-lg relative z-10" id="card-mensaje-ninos2">
        
        <!-- TÃTULO -->
        <h2 class="font-charm text-2xl md:text-3xl lg:text-4xl text-[#C9A961] text-center mb-2 font-bold" id="titulo-adultos">
          EVENTO SOLO PARA ADULTOS
        </h2>
        
        <!-- LÃ­nea decorativa bajo tÃ­tulo -->
        <div class="flex items-center justify-center gap-3 mb-5">
          <div class="w-12 h-[1px] bg-gradient-to-r from-transparent to-[#C9A961]"></div>
          <div class="w-1.5 h-1.5 rounded-full bg-[#C9A961]"></div>
          <div class="w-12 h-[1px] bg-gradient-to-l from-transparent to-[#C9A961]"></div>
        </div>

        <!-- ICONO DE PAREJA ELEGANTE -->
        <div class="flex justify-center mb-5" id="icono-nino">
          <div class="relative">
            <div class="w-18 h-18 md:w-22 md:h-22 rounded-full bg-gradient-to-br from-[#C9A961]/10 to-[#C9A961]/25 flex items-center justify-center border border-[#C9A961]/30 p-4">
              <svg 
                class="w-12 h-12 md:w-14 md:h-14 text-[#C9A961]" 
                viewBox="0 0 48 48" 
                fill="none" 
                stroke="currentColor" 
                stroke-width="1.5" 
                stroke-linecap="round" 
                stroke-linejoin="round"
              >
                <!-- Novio (hombre con traje) -->
                <circle cx="16" cy="12" r="5"/>
                <path d="M16 18c-5 0-8 3-8 7v10h16V25c0-4-3-7-8-7z"/>
                <!-- Corbata del novio -->
                <path d="M16 18v4l-1.5 6h3L16 22" fill="currentColor" stroke="none"/>
                <!-- Solapa del traje -->
                <path d="M12 20l4 3M20 20l-4 3"/>
                
                <!-- Novia (mujer con vestido) -->
                <circle cx="32" cy="12" r="5"/>
                <!-- Velo sutil -->
                <path d="M27 10c0-3 2-5 5-5s5 2 5 5" stroke-width="1" opacity="0.5"/>
                <!-- Vestido elegante -->
                <path d="M32 18c-4 0-7 2-8 6l-2 11h20l-2-11c-1-4-4-6-8-6z"/>
                <!-- Escote del vestido -->
                <path d="M29 18c1 1 2 2 3 2s2-1 3-2"/>
                <!-- Detalles del vestido -->
                <path d="M24 35c2-3 5-5 8-5s6 2 8 5" stroke-width="1" opacity="0.4"/>
                
                <!-- CorazÃ³n entre ellos -->
                <path d="M24 22c0-1 .5-2 1.5-2s1.5.8 1.5 1.8c0 1.5-1.5 3-1.5 3s-1.5-1.5-1.5-3z" fill="#e8a4a4" stroke="#e8a4a4" stroke-width="0.5"/>
              </svg>
            </div>
            <!-- Anillos decorativos -->
            <div class="absolute -bottom-1 -right-1 w-6 h-6 bg-white rounded-full flex items-center justify-center shadow-sm">
              <svg class="w-4 h-4 text-[#C9A961]" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <circle cx="9" cy="12" r="5"/>
                <circle cx="15" cy="12" r="5"/>
              </svg>
            </div>
          </div>
        </div>

        <div class="text-center" id="texto-ninos2">
          <!-- MENSAJE PRINCIPAL - Corto y elegante -->
          <p class="font-charm text-2xl md:text-2xl text-[#556B2F] leading-relaxed mb-4">
            Amamos a los niÃ±os, pero creemos<br/>
            que <span class="text-[#C9A961] font-semibold">mereces un descanso</span>.
          </p>
          
          
        </div>

        <!-- DECORACIÃ“N INFERIOR -->
        <div class="flex justify-center mt-6" id="decoracion-ninos2">
          <div class="flex gap-2">
            <div class="w-2 h-2 rounded-full bg-[#C9A961] opacity-60"></div>
            <div class="w-2 h-2 rounded-full bg-[#C9A961] opacity-80"></div>
            <div class="w-2 h-2 rounded-full bg-[#C9A961]"></div>
            <div class="w-2 h-2 rounded-full bg-[#C9A961] opacity-80"></div>
            <div class="w-2 h-2 rounded-full bg-[#C9A961] opacity-60"></div>
          </div>
        </div>

      </div>

    </div>

  </div>
</section>

<script>
  import { gsap } from "gsap";
  import { ScrollTrigger } from "gsap/ScrollTrigger";

  gsap.registerPlugin(ScrollTrigger);

  if (typeof window !== 'undefined') {
    document.addEventListener("DOMContentLoaded", () => {
      console.log("ðŸ‘¶ Iniciando animaciÃ³n de No NiÃ±os (versiÃ³n 2)...");

      // ðŸŽ¯ ESTADO INICIAL
      gsap.set("#flores-ninos2-top", { opacity: 0, y: -30, scale: 0.8 });
      gsap.set("#hoja-float-izq", { opacity: 0, x: -50, rotation: -20 });
      gsap.set("#hoja-float-der", { opacity: 0, x: 50, rotation: 20 });
      gsap.set("#card-mensaje-ninos2", { opacity: 0, scale: 0.9 });
      gsap.set("#icono-nino", { opacity: 0, scale: 0.5, rotation: -10 });
      gsap.set("#texto-ninos2", { opacity: 0, y: 20 });
      gsap.set("#decoracion-ninos2", { opacity: 0, scaleX: 0 });

      // âœ¨ ANIMACIÃ“N CON SCROLLTRIGGER
      ScrollTrigger.create({
        trigger: "#flores-ninos2-top",
        start: "top 85%",
        end: "top 20%",
        onEnter: () => {
          const tl = gsap.timeline();

          // Flores superiores
          tl.to("#flores-ninos2-top", {
            opacity: 1,
            y: 0,
            scale: 1,
            duration: 1,
            ease: "back.out(1.4)",
          })
          // Hojas flotantes aparecen
          .to("#hoja-float-izq", {
            opacity: 0.5,
            x: 0,
            rotation: 0,
            duration: 1.2,
            ease: "power3.out",
          }, "-=0.6")
          .to("#hoja-float-der", {
            opacity: 0.5,
            x: 0,
            rotation: 0,
            duration: 1.2,
            ease: "power3.out",
          }, "-=1.2")
          // Card principal
          .to("#card-mensaje-ninos2", {
            opacity: 1,
            scale: 1,
            duration: 1,
            ease: "back.out(1.2)",
          }, "-=0.6")
          // Icono de niÃ±o
          .to("#icono-nino", {
            opacity: 1,
            scale: 1,
            rotation: 0,
            duration: 0.8,
            ease: "back.out(1.7)",
          }, "-=0.5")
          // Texto del mensaje
          .to("#texto-ninos2", {
            opacity: 1,
            y: 0,
            duration: 0.8,
            ease: "power2.out",
          }, "-=0.4")
          // DecoraciÃ³n de puntos
          .to("#decoracion-ninos2", {
            opacity: 1,
            scaleX: 1,
            duration: 0.6,
            ease: "power2.out",
          }, "-=0.3");

          // ðŸ’« Animaciones continuas

          // Movimiento suave de hojas flotantes
          gsap.to("#hoja-float-izq", {
            y: -10,
            rotation: -5,
            duration: 3,
            ease: "sine.inOut",
            yoyo: true,
            repeat: -1,
            delay: 1,
          });

          gsap.to("#hoja-float-der", {
            y: 10,
            rotation: 5,
            duration: 3.5,
            ease: "sine.inOut",
            yoyo: true,
            repeat: -1,
            delay: 1.3,
          });

          // Pulso suave en el icono
          gsap.to("#icono-nino > div", {
            scale: 1.05,
            duration: 2,
            ease: "sine.inOut",
            yoyo: true,
            repeat: -1,
            delay: 1,
          });

          // Pulso en los puntos decorativos
          gsap.to("#decoracion-ninos2 > div > div", {
            scale: 1.3,
            opacity: 0.5,
            duration: 2,
            ease: "sine.inOut",
            yoyo: true,
            repeat: -1,
            stagger: 0.15,
            delay: 1.5,
          });
        },
        onLeaveBack: () => {
          gsap.set("#flores-ninos2-top", { opacity: 0, y: -30, scale: 0.8 });
          gsap.set("#hoja-float-izq", { opacity: 0, x: -50, rotation: -20 });
          gsap.set("#hoja-float-der", { opacity: 0, x: 50, rotation: 20 });
          gsap.set("#card-mensaje-ninos2", { opacity: 0, scale: 0.9 });
          gsap.set("#icono-nino", { opacity: 0, scale: 0.5, rotation: -10 });
          gsap.set("#texto-ninos2", { opacity: 0, y: 20 });
          gsap.set("#decoracion-ninos2", { opacity: 0, scaleX: 0 });
        },
      });

      console.log("ðŸ‘¶âœ¨ Â¡Componente No NiÃ±os (v2) activado!");
    });
  }
</script>

<style>
  /* TransiciÃ³n suave para el card */
  #card-mensaje-ninos2 {
    transition: all 0.3s ease;
  }

  #card-mensaje-ninos2:hover {
    box-shadow: 0 20px 50px rgba(201, 169, 97, 0.2);
    transform: translateY(-4px);
  }

  /* Icono con brillo */
  #icono-nino svg {
    filter: drop-shadow(0 2px 4px rgba(201, 169, 97, 0.2));
    transition: all 0.3s ease;
  }

  #icono-nino:hover svg {
    filter: drop-shadow(0 4px 8px rgba(201, 169, 97, 0.3));
  }

  /* Texto con efecto hover */
  #texto-ninos2 p {
    transition: all 0.3s ease;
  }

  #texto-ninos2 span {
    transition: all 0.3s ease;
  }

  #texto-ninos2:hover span {
    text-shadow: 0 2px 12px rgba(201, 169, 97, 0.4);
  }

  /* Hojas flotantes con animaciÃ³n suave */
  #hoja-float-izq,
  #hoja-float-der {
    will-change: transform;
  }

  /* Puntos decorativos */
  #decoracion-ninos2 > div > div {
    transition: all 0.3s ease;
  }

  /* Separadores con hover */
  #flores-ninos2-top img {
    transition: all 0.3s ease;
  }

  #flores-ninos2-top:hover img {
    transform: scale(1.05);
    filter: brightness(1.1);
  }
</style>